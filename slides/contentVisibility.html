<section id="content-visibility-info">
  <h3>Content Visibility</h3>

  <div class="baseline-container">
    <baseline-status featureId="content-visibility"></baseline-status>
  </div>

  <ul>
    <li>
      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
    </li>
    <li>
      Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
    </li>
    <li>
      Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
    </li>
    <li>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</li>
</ul>
</section>
<section id="content-visibility-demo">
  <h3>Content Visibility</h3>
  <div class="slide-container">
    <pre class="visible-code-block">
        <code class="code-block hljs" data-trim contenteditable="true" data-line-numbers="4, 13">
          <style>
          .with-cv {
            background-color: #444;
            content-visibility: auto;
          }
          </style>
        </code>
      </pre>

    <script type="text/template" class="hidden-code-block">
      <style>
        main {
          max-height: 500px;
          overflow-y: scroll;
          color: white;
        }
        p {
          color: white;
        }
        .section {
          padding: 10px;
          overflow: auto;
        }
        .no-cv {
          background-color: #222;
          margin-bottom: 150rem;
        }

        .section h2 {
          color: #fff;
          text-align: center;
          margin-bottom: 10px;
        }
        .heavy {
          display: grid;
          grid-template-columns: repeat(20, 1fr);
          gap: 2px;
        }
        .heavy div {
          background: linear-gradient(45deg, #e74c3c, #f1c40f, #3498db);
          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
          border-radius: 3px;
          width: 100%;
          padding-bottom: 100%;
          transition: transform 0.3s ease;
          filter: contrast(1.2) brightness(1.1);
        }
        .heavy div:hover {
          transform: scale(1.1);
        }
      </style>

      <main>
        <button id="" onclick="generateBoxes();">Generate Boxes</button>

        <div class="section no-cv">
          <p>Without content-visibility</p>
          <div class="heavy" id="heavy-no-cv"></div>
        </div>

        <div class="section with-cv">
          <p>With content-visibility: auto</p>
          <div class="heavy" id="heavy-with-cv"></div>
        </div>
      </main>
    </script>

    <div class="scene" data-edit></div>
  </div>
  <script>
    function generateHeavyContent(containerId, count) {
      console.log("container id: ", containerId);
      const container = document.getElementById(containerId);

      console.log("container: ", container);
      let html = "";
      for (let i = 0; i < count; i++) {
        html += "<div></div>";
      }
      container.innerHTML = html;
    }

    function generateBoxes() {
      generateHeavyContent("heavy-no-cv", 400);
      generateHeavyContent("heavy-with-cv", 8000);
    }
  </script>
</section>
