var e,t,n={156:e=>{e.exports=globalThis.React},280:e=>{e.exports=globalThis.ReactDOM},338:(e,t,n)=>{var o=n(280);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot},810:(e,t,n)=>{n.d(t,{Ot:()=>b,eD:()=>g,mf:()=>y});var o=n(156);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(null,arguments)}const i=o.lazy(()=>Promise.all([n.e(298),n.e(134)]).then(n.bind(n,134))),a=o.lazy(()=>Promise.all([n.e(465),n.e(979)]).then(n.bind(n,979))),c=o.lazy(()=>n.e(563).then(n.bind(n,563))),s=o.lazy(()=>n.e(55).then(n.bind(n,55))),l=o.lazy(()=>n.e(928).then(n.bind(n,928))),d=o.lazy(()=>n.e(16).then(n.bind(n,16))),u=o.lazy(()=>n.e(579).then(n.bind(n,579))),f=o.lazy(()=>n.e(519).then(n.bind(n,519))),p=({component:e,...t})=>o.createElement(o.Suspense,{fallback:o.createElement("div",{className:"xbg-loading"},"Loading background...")},o.createElement(m,null,o.createElement(e,t)));class m extends o.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Background component error:",e,t)}render(){return this.state.hasError?o.createElement("div",{className:"xbg-error"},"Background failed to load"):this.props.children}}const g={hyperspeed:e=>o.createElement(p,r({component:i},e)),aurora:e=>o.createElement(p,r({component:a},e)),"dark-veil":e=>o.createElement(p,r({component:c},e)),dither:e=>o.createElement(p,r({component:s},e)),"dot-grid":e=>o.createElement(p,r({component:l},e)),"faulty-terminal":e=>o.createElement(p,r({component:d},e)),iridescence:e=>o.createElement(p,r({component:u},e)),"liquid-ether":e=>o.createElement(p,r({component:f},e))},h={hyperspeed:{fast:{speed:2,stars:500,trails:!0},normal:{speed:1,stars:300,trails:!0},slow:{speed:.5,stars:200,trails:!1},dense:{speed:1,stars:1e3,trails:!0}},aurora:{vibrant:{intensity:1,speed:1,colors:["#00ff00","#0099ff","#ff00ff"]},subtle:{intensity:.5,speed:.5,colors:["#004d00","#003366","#660066"]},warm:{intensity:.7,speed:.7,colors:["#ff6600","#ff3300","#ffcc00"]},cool:{intensity:.7,speed:.7,colors:["#0066cc","#00cccc","#6600cc"]}},"dark-veil":{heavy:{opacity:.9,particleCount:50,speed:.5},medium:{opacity:.7,particleCount:30,speed:1},light:{opacity:.5,particleCount:20,speed:1.5}},dither:{fine:{pixelSize:2,colorDepth:256},medium:{pixelSize:4,colorDepth:64},coarse:{pixelSize:8,colorDepth:16},retro:{pixelSize:6,colorDepth:8}},"dot-grid":{dense:{spacing:20,dotSize:2,pulseSpeed:1},normal:{spacing:30,dotSize:3,pulseSpeed:.5},sparse:{spacing:50,dotSize:4,pulseSpeed:.3}},"faulty-terminal":{glitchy:{glitchFrequency:.1,scanlines:!0,flicker:!0},stable:{glitchFrequency:.01,scanlines:!0,flicker:!1},retro:{glitchFrequency:.05,scanlines:!0,flicker:!0,greenPhosphor:!0}},iridescence:{rainbow:{hueRotationSpeed:1,saturation:100,lightness:50},pastel:{hueRotationSpeed:.5,saturation:50,lightness:70},deep:{hueRotationSpeed:.3,saturation:80,lightness:30}},"liquid-ether":{calm:{viscosity:.9,turbulence:.1,colorShift:.5},flowing:{viscosity:.5,turbulence:.3,colorShift:1},turbulent:{viscosity:.3,turbulence:.7,colorShift:2}}};function y(e,t){return h[e]?.[t]||{}}function b(e){const[t,n]=o.useState(!1),r=o.useRef(),i=o.useRef();o.useEffect(()=>(e?(n(!0),i.current=Date.now()):(n(!1),r.current&&cancelAnimationFrame(r.current)),()=>{r.current&&cancelAnimationFrame(r.current)}),[e]);const a=o.useCallback(e=>{t&&(r.current=requestAnimationFrame(()=>{const t=Date.now()-i.current;e(t),a(e)}))},[t]);return{isAnimating:t,requestFrame:a,elapsed:Date.now()-(i.current||Date.now())}}}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,r),i.exports}r.m=n,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>e+".xbackground.js",r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e={792:0},t=t=>{var n,o,{__webpack_esm_ids__:i,__webpack_esm_modules__:a,__webpack_esm_runtime__:c}=t,s=0;for(n in a)r.o(a,n)&&(r.m[n]=a[n]);for(c&&c(r);s<i.length;s++)o=i[s],r.o(e,o)&&e[o]&&e[o][0](),e[i[s]]=0},r.f.j=(n,o)=>{var i=r.o(e,n)?e[n]:void 0;if(0!==i)if(i)o.push(i[1]);else{var a=import("./"+r.u(n)).then(t,t=>{throw 0!==e[n]&&(e[n]=void 0),t});a=Promise.race([a,new Promise(t=>i=e[n]=[t])]),o.push(i[1]=a)}};var i={};r.d(i,{A:()=>u});var a=r(156),c=r(338),s=r(280),l=r(810);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d.apply(null,arguments)}const u=()=>{let e,t=null,n=new Map,o=new Map;const r={selector:"[data-xbackground]",transition:"fade",transitionDuration:1e3,lazy:!0,preload:1,debug:!1};let i={};function u(){const[e,t]=a.useState([]);return a.useEffect(()=>(window.__xbackgroundSetPortals=t,()=>{delete window.__xbackgroundSetPortals}),[]),a.createElement(a.Fragment,null,e.map(e=>e))}function f(e){const t=o.get(e);if(!t||t.mounted)return;const{container:r,config:c}=t,d=l.eD[c.type];if(!d)return void console.error(`Unknown background type: ${c.type}`);const u=`slide-${t.index}`,f=(0,s.createPortal)(a.createElement(p,{component:d,config:c.config,slideIndex:t.index,onMount:()=>function(e){i.debug&&console.log("Background mounted for slide:",e)}(e),onUnmount:()=>function(e){i.debug&&console.log("Background unmounted for slide:",e)}(e)}),r,u);n.set(e,f),t.mounted=!0,g()}function p({component:e,config:t,slideIndex:n,onMount:o,onUnmount:r}){const[i,c]=a.useState(!1);return a.useEffect(()=>(o(),requestAnimationFrame(()=>{c(!0)}),()=>{r()}),[]),a.createElement("div",{className:"xbackground-wrapper",style:{width:"100%",height:"100%",position:"relative",top:0,left:0}},a.createElement(e,d({},t,{isVisible:i,slideIndex:n})))}function m(e){const t=o.get(e);t&&t.mounted&&(n.delete(e),t.mounted=!1,g())}function g(){if(window.__xbackgroundSetPortals){const e=Array.from(n.values());window.__xbackgroundSetPortals(e)}}function h(t){const{currentSlide:n,previousSlide:r}=t;r&&b(r),n&&(y(n),i.preload>0&&function(t){const n=e.getSlides(),r=n.indexOf(t);for(let e=1;e<=i.preload;e++){const t=r+e;if(t<n.length){const e=n[t],r=o.get(e);r&&!r.mounted&&f(e)}}}(n)),i.lazy&&function(t){const n=e.getSlides(),r=n.indexOf(t),a=i.preload+1;o.forEach((e,t)=>{const o=n.indexOf(t);Math.abs(o-r)>a&&e.mounted&&!e.active&&m(t)})}(n)}function y(e){const t=o.get(e);t&&(t.mounted||f(e),setTimeout(()=>{t.container.style.opacity="1",t.active=!0},50))}function b(e){const t=o.get(e);t&&(t.container.style.opacity="0",t.active=!1)}function v(){const t=e.getCurrentSlide();t&&y(t)}function w(){i.showInOverview&&o.forEach((e,t)=>{e.mounted||f(t),e.container.style.opacity="0.3"})}function x(){const t=e.getCurrentSlide();o.forEach((e,n)=>{e.container.style.opacity=n===t?"1":"0"})}return{id:"xbackground",init:function(n){return e=n,i={...r,...e.getConfig().xbackground},i.debug&&console.log("XBackground Plugin initialized with config:",i),function(){const e=document.createElement("div");e.id="xbackground-react-root",e.style.display="none",document.body.appendChild(e),t=c.createRoot(e),t.render(a.createElement(a.StrictMode,null,a.createElement(u,null)))}(),e.getSlides().forEach((e,t)=>{const n=e.getAttribute("data-xbackground");if(n)try{!function(e,t,n){const r=document.createElement("div");r.className="xbackground-container",r.style.cssText=`\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      z-index: -1;\n      pointer-events: none;\n      opacity: 0;\n      transition: opacity ${i.transitionDuration}ms ${i.transition};\n    `,e.insertBefore(r,e.firstChild),o.set(e,{container:r,config:t,index:n,active:!1,mounted:!1}),i.lazy||f(e)}(e,function(e){if(e.startsWith("{"))return JSON.parse(e);{const[t,...n]=e.split(":");return{type:t,config:n.length>0?{preset:n[0]}:{}}}}(n),t)}catch(e){console.error(`Error processing slide ${t} background:`,e)}}),e.on("slidechanged",h),e.on("ready",v),e.on("overview-shown",w),e.on("overview-hidden",x),Promise.resolve()},destroy:function(){e.off("slidechanged",h),e.off("ready",v),e.off("overview-shown",w),e.off("overview-hidden",x),o.forEach((e,t)=>{e.mounted&&m(t),e.container.remove()}),t&&(t.unmount(),document.getElementById("xbackground-react-root")?.remove()),o.clear(),n.clear()},activateBackground:y,deactivateBackground:b,mountBackground:f,unmountBackground:m}},f=i.A;export{f as default};